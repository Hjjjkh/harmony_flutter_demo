# 开发工作流程指南

## 🎯 工作模式

在这个项目中，您可以通过对话框直接指导 AI 编写代码，AI 会：
- ✅ 直接编写和修改代码文件
- ✅ 创建新文件和功能
- ✅ 修复 bug 和错误
- ✅ 优化代码结构
- ✅ 添加新功能
- ✅ 更新配置文件

您只需要：
- 📝 在对话框中描述需求
- 🔍 检查代码结果
- 💬 给出反馈和指令

---

## 📋 工作流程

### 1. 提出需求

在对话框中直接描述您想要的功能，例如：
- "添加一个登录页面"
- "实现用户信息获取功能"
- "修复某个 bug"
- "优化代码性能"

### 2. AI 编写代码

AI 会：
- 分析您的需求
- 编写或修改相应的代码文件
- 更新相关配置文件
- 提供代码说明

### 3. 检查结果

您可以：
- 查看修改的文件
- 检查代码逻辑
- 运行测试
- 提供反馈

### 4. 迭代优化

根据反馈继续优化：
- 修改代码
- 添加功能
- 修复问题

---

## 🛠️ AI 可以做什么

### 代码编写
- ✅ 编写 Flutter Dart 代码
- ✅ 编写鸿蒙 ArkTS 代码
- ✅ 创建新页面和组件
- ✅ 实现业务逻辑
- ✅ 添加功能模块

### 代码修改
- ✅ 修改现有代码
- ✅ 重构代码结构
- ✅ 优化代码性能
- ✅ 修复 bug
- ✅ 添加注释和文档

### 配置管理
- ✅ 更新 `pubspec.yaml` 依赖
- ✅ 修改鸿蒙配置文件
- ✅ 更新构建配置
- ✅ 配置权限和资源

### 文件管理
- ✅ 创建新文件
- ✅ 删除不需要的文件
- ✅ 重命名文件
- ✅ 组织文件结构

### 测试和调试
- ✅ 编写测试代码
- ✅ 添加调试信息
- ✅ 修复编译错误
- ✅ 优化错误处理

---

## 💡 使用示例

### 示例 1: 添加新功能

**您的指令**:
```
添加一个用户设置页面，包含主题切换和语言选择功能
```

**AI 会**:
1. 创建 `lib/pages/settings_page.dart`
2. 实现主题切换功能
3. 实现语言选择功能
4. 更新路由配置
5. 添加必要的资源文件

### 示例 2: 修复 Bug

**您的指令**:
```
登录页面在输入密码时出现错误，请修复
```

**AI 会**:
1. 检查登录页面代码
2. 定位问题
3. 修复 bug
4. 测试修复结果

### 示例 3: 优化代码

**您的指令**:
```
优化主页面的性能，减少不必要的重建
```

**AI 会**:
1. 分析当前代码
2. 识别性能问题
3. 优化代码结构
4. 使用适当的状态管理
5. 减少不必要的重建

### 示例 4: 添加原生功能

**您的指令**:
```
添加调用鸿蒙相机功能
```

**AI 会**:
1. 在 Flutter 端添加相机调用代码
2. 在鸿蒙端实现相机功能
3. 配置 Platform Channel
4. 添加权限配置
5. 更新相关文档

---

## 📁 项目结构参考

### Flutter 代码位置
```
lib/
├── main.dart                 # 主入口
├── pages/                    # 页面
│   ├── harmony_demo_page.dart
│   └── [新页面].dart        # AI 会在这里创建新页面
├── services/                 # 服务
│   └── harmony_bridge.dart
├── models/                   # 数据模型
├── widgets/                  # 组件
└── utils/                    # 工具类
```

### 鸿蒙代码位置
```
ohos/entry/src/main/ets/
├── entryability/            # 入口能力
├── pages/                   # 页面
├── utils/                   # 工具类
│   └── OpenHarmonyBridgePlugin.ets
└── [新功能]/                # AI 会在这里添加新功能
```

---

## 🎨 开发建议

### 1. 清晰描述需求

**好的描述**:
```
添加一个商品列表页面，显示商品图片、名称、价格，支持下拉刷新和上拉加载更多
```

**不够清晰的描述**:
```
做个列表页面
```

### 2. 分步骤开发

对于复杂功能，可以分步骤：
1. 先实现基础功能
2. 再添加高级功能
3. 最后优化和美化

### 3. 及时反馈

如果代码不符合预期：
- 直接说明问题
- AI 会立即修改
- 可以多次迭代

### 4. 检查代码

AI 编写代码后：
- 查看代码逻辑
- 检查是否符合需求
- 运行测试验证

---

## 🔧 常用指令模板

### 添加新页面
```
添加一个 [页面名称] 页面，功能包括 [功能描述]
```

### 修改现有功能
```
修改 [功能名称]，[具体修改内容]
```

### 修复 Bug
```
修复 [功能/页面] 中的 [问题描述]
```

### 优化代码
```
优化 [代码/功能] 的 [性能/结构/用户体验]
```

### 添加原生功能
```
添加调用鸿蒙 [功能名称] 的功能
```

### 配置相关
```
配置 [配置项]，设置为 [配置值]
```

---

## 📚 参考文档

在开发过程中，可以参考：
- `README.md` - 项目说明
- `HARMONYOS_SETUP.md` - 鸿蒙配置指南
- `NEXT_STEPS.md` - 下一步操作
- `CHANGES_SUMMARY.md` - 改动总结

---

## ✅ 检查清单

在提出需求前，可以检查：
- [ ] 需求描述清晰
- [ ] 功能范围明确
- [ ] 相关依赖已了解
- [ ] 预期结果清楚

在 AI 完成代码后，可以检查：
- [ ] 代码逻辑正确
- [ ] 符合需求
- [ ] 没有语法错误
- [ ] 测试通过
- [ ] 代码风格一致

---

## 🚀 开始开发

现在您可以：

1. **直接在对话框中描述需求**
   ```
   例如：添加一个用户登录页面
   ```

2. **AI 会立即开始编写代码**
   - 创建必要的文件
   - 编写代码
   - 更新配置

3. **检查结果并反馈**
   - 查看代码
   - 测试功能
   - 提供反馈

4. **继续迭代**
   - 根据反馈优化
   - 添加新功能
   - 完善代码

---

## 💬 沟通技巧

### 描述需求时
- ✅ 使用清晰的语言
- ✅ 说明具体功能
- ✅ 提及相关要求（UI、性能等）
- ✅ 提供参考示例（如果有）

### 提供反馈时
- ✅ 指出具体问题
- ✅ 说明期望结果
- ✅ 提供修改建议
- ✅ 可以要求详细解释

### 询问问题时
- ✅ 直接提问
- ✅ 说明上下文
- ✅ 可以要求代码示例
- ✅ 可以要求最佳实践

---

## 🎯 最佳实践

1. **从小功能开始**
   - 先实现基础功能
   - 再逐步添加高级功能

2. **及时测试**
   - 每次修改后测试
   - 发现问题时立即反馈

3. **代码审查**
   - 检查代码逻辑
   - 确保符合规范
   - 优化代码结构

4. **文档更新**
   - 重要功能添加注释
   - 更新相关文档
   - 记录设计决策

---

## 📝 示例对话

### 示例 1: 添加功能

**您**: 添加一个商品详情页面，显示商品信息、图片轮播、购买按钮

**AI**: 
- 创建 `lib/pages/product_detail_page.dart`
- 实现商品信息显示
- 实现图片轮播
- 添加购买按钮
- 更新路由配置

**您**: 购买按钮点击后要显示确认对话框

**AI**: 
- 添加确认对话框
- 实现购买逻辑
- 更新按钮点击事件

### 示例 2: 修复问题

**您**: 首页列表加载太慢，优化一下

**AI**: 
- 分析性能问题
- 添加数据缓存
- 优化列表渲染
- 实现懒加载
- 减少不必要的重建

**您**: 还是有点慢，再优化一下

**AI**: 
- 进一步优化
- 添加图片缓存
- 优化网络请求
- 使用更高效的数据结构

---

## 🎉 开始使用

现在您可以直接在对话框中描述需求，AI 会立即开始编写代码！

**示例**:
```
添加一个用户注册页面，包含用户名、邮箱、密码输入框，以及注册按钮
```

或者：
```
修改主页面的布局，使用更现代的设计风格
```

**随时可以开始！** 🚀

